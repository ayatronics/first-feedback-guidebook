# 仕事が忙しくてOSS活動に時間を割けない！

「OSSの開発に関わるのはとても有意義だと分かってはいるけど、プライベートな時間や睡眠時間が削られてしまうのが辛い……」という声はよく聞かれます。筆者も、OSS以外にも映画も見たければ遊びにも行きたいという思いはあるので、気持ちはよく分かります。

もしあなたが業務上でOSSを使用しているなら、筆者としては、それらのOSSへのフィードバックを業務の範疇として認めてもらうように、上司やマネージャーに交渉してみて頂きたいです。本節では、そのような交渉の材料になるように、会社などの組織にとってのメリットを色々ご紹介します。うまくいけば、あなたも業務時間中に堂々とOSSにフィードバックできるようになるかも……？


## OSSにフィードバックすると、組織にもメリットがある

### 売名上等！

組織名を公にした状態でOSSにフィードバックするということには、*OSSに関心がある技術者に対する組織の知名度の向上や、好感度の向上*の効果が見込めます。所属組織を明らかにしているメンバーがOSSに積極的にフィードバックしていると、*「この組織はOSS開発に理解がある」「この組織に所属している技術者にはちゃんとした知識がある」ということの間接的なアピール*になるからです。

技術イベントにスポンサーとして資金を提供したりブースを出したりすることも「親OSS」であることのアピールにはなります。しかし、イベントの時しか名前を見かけないのでは、印象に残りにくいというのが実際のところです。それに対し、OSSプロジェクトのイシュートラッカーやリポジトリ上でその組織の所属エンジニアが積極的に活動していると、そのOSSプロジェクトの関係者やユーザーからの印象は爆上がりです。もしかしたら、*その様子を見た優秀なITエンジニアが転職先として検討してくれる*かもしれません（実際に、そういう経緯で当社を知って応募してきて下さった方がいました）。

また、技術コミュニティへ有形無形の還元をすることは、*コミュニティとの良好な関係を築く*ことにもつながります。2018年の半ば頃、Amazonに対してRedis、MongoDB、KafkaなどのOSS製品の開発元が、これらのOSSを自社サービスでを使用して得た利益を技術コミュニティに十分に還元していないと批判して、クラウドビジネスでの商用利用を禁止する形にライセンスを変更した、ということが[話題になっていました](https://www.sbbit.jp/article/cont1/36018)。イシューの報告やプルリクエストをするために手を動かすということは、労力を割くためのコストを負担しているという意味で、技術コミュニティへの還元と言えます。そのようなフィードバックをAmazonが大々的に・多数行っていれば、OSS製品の開発元企業もAmazonをここまで敵視はしなかったかもしれません。

このような目的でフィードバックを行うことを「売名行為だ」と非難する向きもあるかもしれません。しかし、意味もなく形だけのフィードバックを大量にして、かえって開発コミュニティに負担をかけてしまっている、ということでもない限り、良質で有用なフィードバックが多くもたらされることは、OSSプロジェクトにとってはありがたいものです。また、OSSの世界には「実際に手を動かす人が誰よりも正しい」という共通の価値観があります。手も動かさずに他人のことを「売名行為だ」と非難する人の言うことを、あまり気にする必要はありません。

### 自社製品の競争力を高め、維持するために

うちの会社は技術コミュニティと仲良くなくてもべつに構わない、そういう所から人を採りたいとも特に思っていない、うちはOSSを使って製品やサービスの価値を高めたいだけだ……という場合でも、フィードバックにはメリットがあります。というよりも、*フィードバックしないことにデメリットがあります*。

自社製品やサービスで使用する（依存する）OSSのライブラリやフレームワークなどには、不具合が含まれている場合があります。そういうことがない枯れたバージョンだけを使えばいい、と思うかもしれませんが、枯れた古いバージョンは機能が不足しているために、魅力ある製品にするための要件を満たせない、ということはままあります。そのような場合、不具合があることを承知の上で最新の開発版を使ったり、自社製品向けに独自の改変を加えたり、といった形で何らかの変更をすることは避けられません。

そういった変更はあくまで「作業を行った時点のリビジョンに対する変更」なので、そのOSSを更新すると、同じ変更を適用できなくなる場合があります。しかし、だからといって使用するOSSのバージョンをある時点の物に固定してしまうと、そのバージョンが致命的な脆弱性を含んでいた場合、それを使う自社製品までもが脆弱な状態が、長く続いてしまいます。製品開発のプロセスとしても、自社の顧客に対する責任の面でも、これはリスクと言えます。でも、*修正や必要な変更をフィードバックしてそのOSS事態に取り込んでもらっておけば、そのようなリスクを減じられます*。「新しいバージョンがリリースされた後で、さあどうしようと慌てる」という事にならずに、スムーズにそのOSSの更新を自社製品に反映できるからです。

このような事例のひとつに、[2019年に行われた、GitHubでのRails 6.0への移行](https://news.mynavi.jp/article/20190910-891948/)があります。

GitHubのサービスはRuby on Railsの上に構築されていますが、多くの人が利用するサービスなので、GitHub社としてはいつまでも古いRailsを使い続けているわけにはいきません。しかし、Railsの新しいバージョンがリリースされてから移行作業を始めたのでは、まず単純に作業自体に時間がかかりますし、それだけでなく、*移行を始めてから発覚したRails自体の不具合や非互換の問題への対処*によっても、作業期間はどんどん延びていってしまいます。

そこでGitHub社では、Rails 6.0の*開発段階から積極的にフィードバックを行い、事前にRails側の不具合や非互換に関する懸念をあらかた解決しておく*という方針をとったそうです。これにより、あれだけの大規模のサービスであるにも関わらず、サービスで使用するRailsのバージョンの切り替え作業は、Rails 6.0の更改からわずか9日で完了できたそうです。

GitHubのような新興のWebサービス企業だけでなく、ハードウェア製品の開発・販売をメインとしている企業でも、同様のことが言えます。実際に、NEC・日立・富士通といった日本の大企業がLinuxカーネルに多大な貢献をしていることで知られていますが、彼らも自社製品にLinuxを組み込む都合上そうしているのであって、その大目的は「自社の利益のため」です。

### 自社に有利な状況を作るためのロビー活動として


フィードバックしない事のリスク
梯子を外される

一種のロビー活動

クリアコードの場合。FirefoxのPolicy Engineに日本の顧客からの要望が強かった機能を入れてもらった。もしそうしていなかったら、「それはできませんねー」とお客さんの要望に応えられず信頼を失う。あるいは、強引に乗り切るためのハックを生み出すか、改造版のFirefoxを作るかして、手間をかけてそれをメンテナンスし続けないといけない。自社の利益にしかならない物なら自社で抱えるしかないが、Firefoxのユーザーすべてにメリットがあるなら、入れてもらえる目が出てくる。



### 自社製品の寿命を延ばすために


また、*プロジェクトの継続に寄与できる*のもメリットです。社会貢献という面で語ることもできますが、組織の製品が特定のOSSに強く依存している場合、開発者の個人的な事情でそのOSSの開発が終了してしまうと致命的なダメージになり、これも大きなリスクです。金銭的な寄付を募っているOSSであれば金銭的に支援できますが、寄付を募っていない場合、できる支援の手段は実際に手を動かすことしかありません。そのOSSに長生きして欲しければ、積極的にフィードバックした方がよいということです。







### リスクマネジメントのためのフィードバック



このように、会社の業務にも影響してくる。
会社によっては、業務時間中にそうする事を許容している場合もあります。当社もそのような方針を取っています。


### 情報を外に出すと、組織にとって損になる……とは限らない

会社によっては、そういうことであっても外に情報を一切出せないという場合や、いわゆる「GPL汚染」を懸念して、OSSを持ち込むことはおろかOSSのソースコードを見ることすら禁止されているという場合もあると聞きます。秘密の情報が組織の利益の源泉になっているというケースでは、確かにそういう心配も致し方ないでしょう。

ですが、それは逆の見方をすれば、*秘密の情報以外のことで利益を出している組織にとって、OSSに関わることはそれほどリスクにはならない*ということではないでしょうか。自社の本質的な武器が「秘密のレシピ」ではなく「積み重ねてきた信用」や「時間をかけて整備されてきた体制」のように一朝一夕には真似できない部分であるという場合、OSSへのフィードバックのメリットを享受できるかもしれません。








会社の中の仕組み作りからやらないといけないか。






筆者の実際の事例を一つご紹介しましょう。筆者は業務上でFirefoxのポリシー設定を使うことが多いのですが、「検索窓に入力中の語句に対して、Googleサジェストなどの検索語句候補を表示するかどうか」を制御する設定を試していて、「設定がロケーションバー（アドレスバー）への入力に対してしか作用せず、単独のWeb検索バーでは依然として候補が表示される」という制限事項に気がついた、ということがありました。

筆者の所属会社のブログには、このようなきっかけで気が付いた情報をまとめた記事が多数あります。この設定を使いたい人はこの制限事項に戸惑うはずで、*「この機能を使う時は注意が必要だ」というノウハウ*を記事化しておけばページビュー増に期待できます。なので最初は、この話もブログの記事にしようと考えていました。

ですが、そこで少し冷静になってみました。この設定を使いたい人はそもそも不要な通信が発生して欲しくないから設定を使うのに、その目的が果たされない設定は有用と言えるでしょうか？　機能を使いたい人が十中八九遭遇するであろう制限事項は、注意するべき点と言うよりも*不具合*と言った方が適切ではないでしょうか。

そこで、情報をまとめて[開発元であるMozillaのバグトラッキングシステムに報告](https://bugzilla.mozilla.org/show_bug.cgi?id=1555584)することにしました。すると、この件は改善されるべき点と認識してもらえて、さらには提出したパッチも取り込んでもらえました。結果として、Firefoxの動作が「検索語句の候補を表示しないように設定したら、ロケーションバーでも単独のWeb検索バーでも候補が表示されなくなる」という仕様に改善されたということになります。つまり、*機能を使う上で特別な注意が必要ない状態*になったのです。

「使う時に注意が必要な点」を減らした。
でも、注意点を減らすと仕事が減る？
→そんな注意点がひとつあってもそもそも仕事にならない。ユーザー企業にとっては「使えない」という感想を持たれてしまう。そんな些細なことにサポートのコストがかかるようでは使いたくない、と思われてしまう。
→それよりも、品質を高めて「これは使いたい」と思ってもらった方がよい。ユーザー企業の数が増えれば、より困難な問題に遭遇する事例が出てくる。そういう事例の方がビジネスになる。
→ただ、ノウハウ紹介の記事という露出が減るので、代わりに、フィードバックしたという情報そのものを記事化するなどしてプレゼンスを高める工夫は必要。

社内で共有したりブログやQiitaに書いたりするのは、もちろん有用な事です。ただ、そういった情報ばかりが増えていくと、新しく使い始めようとした人には「なんだか、使うのに色々勉強が必要なんだな……」「気軽には使えないんだな……」という印象を持たれ、いずれは「敷居が高そうだから、触るのやめておいた方がいいかな……」と思われるまでにもなってしまいかねません。

